<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Card√°pio Interativo</title>
<style>
* { box-sizing: border-box; margin:0; padding:0; }
body { font-family: Arial, sans-serif; background: #f5f5f5; display: flex; flex-direction: column; align-items: center; padding: 10px; }
.cardapio { background: #fff; padding: 20px; border-radius: 12px; box-shadow: 0 6px 15px rgba(0,0,0,0.2); max-width: 500px; width: 100%; margin-bottom: 20px; }
.logo-container { display: flex; align-items: center; justify-content: flex-start; margin-bottom: 20px; }
.logo-container img { height: 60px; margin-right: 15px; border-radius: 8px; }
.titulo-container h1 { font-size: 1.5rem; color: #007BFF; margin-bottom: 5px; }
.titulo-container h2 { font-size: 1.1rem; color: #555; font-weight: normal; }
.titulo-container h3 { font-size: 1rem; margin-bottom: 10px; color: #333; }
ul { list-style: none; padding: 0; }
li { margin: 5px 0; cursor: pointer; display: flex; align-items: center; padding: 6px 10px; border-radius: 8px; transition: background 0.2s; }
li:hover { background: #f0f0f0; }
.checkbox-fake { width: 22px; height: 22px; border: 2px solid #007BFF; display: flex; align-items: center; justify-content: center; margin-right: 10px; border-radius: 4px; font-weight: bold; color: #fff; background: #007BFF; opacity: 0; transition: opacity 0.2s, transform 0.2s; flex-shrink: 0; }
li.selected .checkbox-fake { opacity: 1; transform: scale(1.1); }
li span { flex: 1; }
input[type="text"] { width: 100%; padding: 8px; margin-top: 8px; border-radius: 6px; border: 1px solid #ccc; }
#enviarWhats { margin-top: 12px; padding: 10px; background: #25D366; color: #fff; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; width: 100%; font-size: 1rem; }
label { display: block; margin-bottom: 6px; cursor: pointer; }
#adicionarPedido { margin: 10px 0; padding: 8px; width: 100%; border-radius: 8px; border: 1px solid #007BFF; background: #007BFF; color: #fff; cursor: pointer; font-weight: bold; }
.pedido-individual { border: 1px solid #ccc; padding: 10px; margin: 10px 0; border-radius: 8px; background: #f9f9f9; }
.pedido-individual h4 { margin-bottom: 5px; }
@media (max-width: 600px) { 
  .logo-container { flex-direction: column; align-items: center; text-align: center; } 
  .logo-container img { margin-right: 0; margin-bottom: 8px; height: 50px; } 
  .titulo-container h1 { font-size: 1.3rem; } 
  .titulo-container h2 { font-size: 1rem; } 
  #enviarWhats, #adicionarPedido { font-size: 0.95rem; } 
}
</style>
</head>
<body>

<div class="cardapio">
  <div class="logo-container">
    <img src="logo.png" alt="Logo Restaurante">
    <div class="titulo-container">
      <h1>Restaurante Colinas</h1>
      <h2>üçΩÔ∏è Card√°pio de Hoje ‚Äì <span id="diaSemana"></span>, <span id="dataHoje"></span></h2>
      <h3 id="horarioFuncionamento">Hor√°rio: 11:00 - 14:00</h3>
    </div>
  </div>

  <label for="endereco">üìç Endere√ßo de Entrega (√∫nico para todos os pedidos)</label>
  <input type="text" id="endereco" placeholder="Digite o endere√ßo de entrega">

  <button id="adicionarPedido">‚ûï Adicionar Pedido de Outra Pessoa</button>

  <div id="pedidosContainer"></div>

  <h3>üìã Pedidos Criados</h3>
  <div id="resumoPedidos"></div>

  <button id="enviarWhats">üì≤ Enviar Pedidos pelo WhatsApp</button>
</div>

<script>
// ---------- Mostrar data e dia da semana ----------
const dias = ['Domingo','Segunda-feira','Ter√ßa-feira','Quarta-feira','Quinta-feira','Sexta-feira','S√°bado'];
const hoje = new Date();
document.getElementById('diaSemana').textContent = dias[hoje.getDay()];
document.getElementById('dataHoje').textContent = hoje.toLocaleDateString('pt-BR');

// ---------- Estrutura de Pedidos ----------
let contadorPedidos = 0;
let pedidos = [];

// ---------- Fun√ß√£o para carregar o card√°pio ----------
async function carregarCardapio(container) {
  try {
    const resposta = await fetch('cardapio.json');
    const itens = await resposta.json();

    const lista = document.createElement('ul');
    itens.forEach(item => {
      const li = document.createElement('li');
      li.innerHTML = `<div class="checkbox-fake">‚úî</div><span>${item}</span>`;
      li.addEventListener('click', () => {
        li.classList.toggle('selected');
      });
      lista.appendChild(li);
    });
    container.appendChild(lista);
  } catch (erro) {
    container.textContent = 'Erro ao carregar o card√°pio.';
  }
}

// ---------- Criar bloco de pedido ----------
function criarPedido() {
  contadorPedidos++;
  const bloco = document.createElement('div');
  bloco.className = 'pedido-individual';

  const nomeInput = document.createElement('input');
  nomeInput.type = 'text';
  nomeInput.placeholder = 'Nome da pessoa';

  const cardapioContainer = document.createElement('div');
  cardapioContainer.className = 'cardapio-lista';

  bloco.appendChild(nomeInput);
  bloco.appendChild(cardapioContainer);

  document.getElementById('pedidosContainer').appendChild(bloco);

  carregarCardapio(cardapioContainer);
}

// ---------- Gerar mensagem do WhatsApp ----------
function gerarMensagem() {
  const endereco = document.getElementById('endereco').value.trim();
  if (!endereco) {
    alert('Por favor, informe o endere√ßo de entrega.');
    return null;
  }

  pedidos = [];
  document.querySelectorAll('.pedido-individual').forEach(p => {
    const nome = p.querySelector('input').value.trim() || 'Sem nome';
    const itens = [];
    p.querySelectorAll('li.selected span').forEach(span => itens.push(span.textContent));
    if (itens.length > 0) {
      pedidos.push({ nome, itens });
    }
  });

  if (pedidos.length === 0) {
    alert('Adicione pelo menos um pedido com itens selecionados.');
    return null;
  }

  let mensagem = `üìç Endere√ßo: ${endereco}\n\nüìã Pedidos:\n`;
  pedidos.forEach((p,i) => {
    mensagem += `\nüë§ ${p.nome}\n - ${p.itens.join('\n - ')}\n`;
  });
  return mensagem;
}

// ---------- Enviar para WhatsApp ----------
document.getElementById('enviarWhats').addEventListener('click', () => {
  const msg = gerarMensagem();
  if (msg) {
    const url = `https://wa.me/?text=${encodeURIComponent(msg)}`;
    window.open(url, '_blank');
  }
});

// ---------- Bot√£o para adicionar novo pedido ----------
document.getElementById('adicionarPedido').addEventListener('click', criarPedido);
</script>

</body>
</html>
